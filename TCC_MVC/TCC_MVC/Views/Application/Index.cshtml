@model TCC_MVC.Models.SearchModel
@{
    ViewBag.Title = "Index";
}

@using (Html.BeginForm("Index", "Application", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <hgroup>
        <h3>Filtro:</h3>
        <ul id="filter">
            <li>
                <span>
                    @Html.LabelFor(m => m.Keyword)
                    @Html.TextBoxFor(m => m.Keyword)
                </span>
            </li>
            <li>
                <b>@Html.LabelFor(m => m.KeyType)</b>
                <span>
                    @Html.RadioButtonFor(m => m.KeyType, "author") Pesquisador
                </span>
                <span>
                    @Html.RadioButtonFor(m => m.KeyType, "search") Linha 
                </span>
                <span>
                    @Html.RadioButtonFor(m => m.KeyType, "group") Grupo
                </span>
                <span>
                    @Html.RadioButtonFor(m => m.KeyType, "clique") Clique
                </span>
            </li>
            <li>
                <b>@Html.LabelFor(m => m.OrderByType)</b>
                <span>
                    @Html.RadioButtonFor(m => m.OrderByType, "year")
                    Ano
                    @Html.RadioButtonFor(m => m.OrderByType, "triennium")
                    Trieno
                    @Html.RadioButtonFor(m => m.OrderByType, "total")
                    Toltal
                    @Html.RadioButtonFor(m => m.OrderByType, "evolution")
                    Evolução
                </span>
            </li>
            <li class="hidden hidden-options" >
                Evolução por:
                <span>
                    @Html.RadioButtonFor(x => x.EvolutionType, "year") Ano
                    @Html.RadioButtonFor(x => x.EvolutionType, "triennum") Trieno
                </span>
             </li>
            <li class="hidden hidden-options">
                Intervalo:
                <span>
                    @Html.RadioButtonFor(x => x.EvolutionGap, "3") 3
                    @Html.RadioButtonFor(x => x.EvolutionGap, "5") 5
                </span>
            </li>
            <li>
                <b>@Html.LabelFor(m => m.OrderByType)</b>
                <span>
                    @Html.RadioButtonFor(m => m.GroupByType, "completo")
                    Artigo Completo
                    @Html.RadioButtonFor(m => m.GroupByType, "resumo")
                    Resumo
                    @Html.RadioButtonFor(m => m.GroupByType, "periodico")
                    Periódico
                </span>
            </li>
        </ul>
        <input type="submit" value="Filtrar" />
    </hgroup>
}

@*<hgroup class="title">
    <h1>@ViewBag.Title.</h1>
    <h2>@ViewBag.Message</h2>
</hgroup>*@

@*<article>
    <p>
        Use this area to provide additional information.
    </p>
</article>*@
@if (Model.EvolutionGrafic != null && Model.EvolutionGrafic.Count > 0)
{
    <table>
        <tr>
            <td>Ano</td>
            <td>N&ordm; de pubilcações nos últimos @Model.EvolutionGap @Model.EvolutionType</td>
        </tr>
        @foreach(var time in Model.EvolutionGrafic){
            <tr>
                <td>@time.year</td>
                <td>@time.total </td>
            </tr>
        }
    </table>
}
@if (Model.articles != null && Model.articles.Count > 0)
{
    <table>
        <tr>
            <td> </td>
            <td>Autor</td>
            <td>Título</td>
            <td>Ação</td>
        </tr>
        @foreach (var article in Model.articles)
        {
            <tr>
                <td><input type="checkbox" name="articles" value="@article.Id" /></td>
                <td>@Html.ActionLink(article.Author, "Edit", "Research", new { idAuthor = article.AuthorId }, null)</td>
                <td>@article.Title</td>
                <td>@Html.ActionLink("Visualizar", "View", "Article", new { idArticle = article.Id, idAuthor = article.AuthorId }, null)</td>
            </tr>
        }
    </table>
}
